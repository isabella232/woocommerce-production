"use strict";(self.webpackChunk_wcAdmin_webpackJsonp=self.webpackChunk_wcAdmin_webpackJsonp||[]).push([[1920,6147,7108],{23798:function(e,t,s){s.d(t,{g:function(){return r}});var o=s(69307),n=s(65736),a=s(9818),c=s(67221),i=s(74617),l=s(38649);const r=e=>{let{taskListId:t}=e;const{loading:s,tasksCount:r,completedCount:m,hasVisitedTasks:d}=(0,a.useSelect)((e=>{const s=e(c.ONBOARDING_STORE_NAME).getTaskList(t),o=e(c.ONBOARDING_STORE_NAME).hasFinishedResolution("getTaskList",[t]),n=Date.now(),a=null==s?void 0:s.tasks.filter((e=>!e.isDismissed&&(!e.isSnoozed||e.snoozedUntil<n)));return{loading:!o,tasksCount:null==a?void 0:a.length,completedCount:null==a?void 0:a.filter((e=>e.isComplete)).length,hasVisitedTasks:(null==a?void 0:a.filter((e=>e.isVisited)).length)>0}})),u=(0,o.useMemo)((()=>{if(!d&&m<2||m===r){const e=(0,i.getSetting)("siteTitle");return e?(0,n.sprintf)((0,n.__)("Welcome to %s","woocommerce"),e):(0,n.__)("Welcome","woocommerce")}return m>0&&m<4?(0,n.__)("Let's get you started","woocommerce")+"   ðŸš€":m>3&&m<6?(0,n.__)("You are on the right track","woocommerce"):(0,n.__)("You are almost there","woocommerce")}),[m,d]);return s||m===r?null:(0,o.createElement)("div",{className:"woocommerce-task-progress-header"},(0,o.createElement)(l.d,{id:t,hideTaskListText:(0,n.__)("Hide setup list","woocommerce")}),(0,o.createElement)("div",{className:"woocommerce-task-progress-header__contents"},(0,o.createElement)("h1",{className:"woocommerce-task-progress-header__title"},u),(0,o.createElement)("p",null,(0,n.sprintf)((0,n.__)("Follow these steps to start selling quickly. %1$d out of %2$d complete.","woocommerce"),m,r)),(0,o.createElement)("progress",{className:"woocommerce-task-progress-header__progress-bar",max:r,value:m||0})))}},38649:function(e,t,s){s.d(t,{d:function(){return r}});var o=s(69307),n=s(65736),a=s(55609),c=s(86020),i=s(67221),l=s(9818);const r=e=>{let{id:t,hideTaskListText:s}=e;const{hideTaskList:r}=(0,l.useDispatch)(i.ONBOARDING_STORE_NAME);return(0,o.createElement)("div",{className:"woocommerce-card__menu woocommerce-card__header-item"},(0,o.createElement)(c.EllipsisMenu,{label:(0,n.__)("Task List Options","woocommerce"),renderContent:()=>(0,o.createElement)("div",{className:"woocommerce-task-card__section-controls"},(0,o.createElement)(a.Button,{onClick:()=>r(t)},s||(0,n.__)("Hide this","woocommerce")))}))}},23720:function(e,t,s){s.r(t),s.d(t,{TaskList:function(){return h},default:function(){return w}});var o=s(5267),n=s(69307),a=s(65736),c=s(55609),i=s(9818),l=s(86020),r=s(67221),m=s(14599),d=s(14812),u=s(10431),_=s(79298);const k=e=>{var t;let{isExpandable:s=!1,isExpanded:c=!1,setExpandedTask:l,task:k}=e;const{createNotice:p}=(0,i.useDispatch)("core/notices"),{dismissTask:E,snoozeTask:h,undoDismissTask:w,undoSnoozeTask:g,visitedTask:f}=(0,i.useDispatch)(r.ONBOARDING_STORE_NAME),T=(0,r.useUserPreferences)(),{actionLabel:v,actionUrl:N,content:b,id:C,isComplete:O,isDismissable:S,isSnoozeable:x,time:L,title:D,level:I,additionalInfo:R}=k,A=(0,d.useSlot)(`woocommerce_onboarding_task_list_item_${C}`),y=Boolean(null==A||null===(t=A.fills)||void 0===t?void 0:t.length),B=(0,n.useCallback)((()=>{E(C),p("success",(0,a.__)("Task dismissed"),{actions:[{label:(0,a.__)("Undo","woocommerce"),onClick:()=>w(C)}]})}),[C]),M=(0,n.useCallback)((()=>{h(C),p("success",(0,a.__)("Task postponed until tomorrow","woocommerce"),{actions:[{label:(0,a.__)("Undo","woocommerce"),onClick:()=>g(C)}]})}),[C]),z=(0,n.useCallback)((()=>{N?N.startsWith("http")?window.location.href=N:(0,u.getHistory)().push((0,u.getNewPath)({},N,{})):(window.document.documentElement.scrollTop=0,(0,u.updateQueryString)({task:C}))}),[C,O,N]),P={expandable:s,expanded:s&&c,completed:O,onSnooze:x&&M,onDismiss:S&&B},G=(0,n.useCallback)((e=>{const t=()=>((0,m.recordEvent)("tasklist_click",{task_name:C}),O||(()=>{const e=(()=>{const e=T.task_list_tracked_started_tasks;return e&&e[C]?e[C]:0})()+1,t=T.task_list_tracked_started_tasks||{};f(C),T.updateUserPreferences({task_list_tracked_started_tasks:{...t||{},[C]:e}})})(),e.onClick?e.onClick():z());return(0,n.createElement)(d.TaskItem,(0,o.Z)({key:C,title:D,content:b,additionalInfo:R,time:L,action:t,level:I,actionLabel:v},P,e,{onClick:!s||O?t:()=>l(C)}))}),[C,D,b,L,v,s,O]);return y?(0,n.createElement)(_.WooOnboardingTaskListItem.Slot,{id:C,fillProps:{defaultTaskItem:G,isComplete:O,...P}}):(0,n.createElement)(G,{onClick:k.onClick})};var p=s(38649),E=s(23798);const h=e=>{var t;let{id:s,eventPrefix:u,tasks:_,title:h,isCollapsible:w=!1,isExpandable:g=!1,displayProgressHeader:f=!1,query:T}=e;const{profileItems:v}=(0,i.useSelect)((e=>{const{getProfileItems:t}=e(r.ONBOARDING_STORE_NAME);return{profileItems:t()}})),N=(0,n.useRef)(T),b=Date.now(),C=_.filter((e=>!e.isDismissed&&(!e.isSnoozed||e.snoozedUntil<b))),O=_.filter((e=>!e.isComplete&&!e.isDismissed)),[S,x]=(0,n.useState)(null===(t=O[0])||void 0===t?void 0:t.id);if((0,n.useEffect)((()=>{(0,m.recordEvent)(u+"view",{number_tasks:C.length,store_connected:v.wccom_connected})}),[]),(0,n.useEffect)((()=>{const{task:e}=N.current,{task:t}=T;e!==t&&(window.document.documentElement.scrollTop=0,N.current=T)}),[T]),!C.length)return(0,n.createElement)("div",{className:"woocommerce-task-dashboard__container"});const L=(0,a.sprintf)((0,a._n)("Show %d more task.","Show %d more tasks.",C.length-2,"woocommerce"),C.length-2),D=(0,a.__)("Show less","woocommerce"),I=w?d.CollapsibleList:d.List,R=w?{collapseLabel:D,expandLabel:L,show:2,onCollapse:()=>(0,m.recordEvent)(u+"collapse",{}),onExpand:()=>(0,m.recordEvent)(u+"expand",{})}:{};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"woocommerce-task-dashboard__container woocommerce-task-list__"+s},f?(0,n.createElement)(E.g,{taskListId:s}):null,(0,n.createElement)(c.Card,{size:"large",className:"woocommerce-task-card woocommerce-homescreen-card"},(0,n.createElement)(c.CardHeader,{size:"medium"},(0,n.createElement)("div",{className:"wooocommerce-task-card__header"},(0,n.createElement)(d.Text,{size:"20",lineHeight:"28px",variant:"title.small"},h),(0,n.createElement)(l.Badge,{count:O.length})),(0,n.createElement)(p.d,{id:s})),(0,n.createElement)(I,(0,o.Z)({animation:"custom"},R),C.map((e=>(0,n.createElement)(k,{key:e.id,isExpanded:S===e.id,isExpandable:g,task:e,setExpandedTask:x})))))))};var w=h},57038:function(e,t,s){s.r(t);var o=s(69307),n=s(65736),a=s(55609),c=s(70644),i=s(9818),l=s(67221),r=s(14599),m=s(27240),d=s(23720),u=s(76388);t.default=e=>{let{query:t}=e;const{hideTaskList:s}=(0,i.useDispatch)(l.ONBOARDING_STORE_NAME),{updateOptions:_}=(0,i.useDispatch)(l.OPTIONS_STORE_NAME),{task:k}=t,{isResolving:p,taskLists:E}=(0,i.useSelect)((e=>({isResolving:e(l.ONBOARDING_STORE_NAME).isResolving("getTaskListsByIds"),taskLists:e(l.ONBOARDING_STORE_NAME).getTaskListsByIds(["extended_two_column"])})));if((0,o.useEffect)((()=>{_({woocommerce_task_list_prompt_shown:!0})}),[E,p]),k)return null;if(p)return(0,o.createElement)(u.S,{query:t});const h=E[0];if(!h||0===h.tasks.length)return null;const w=h.tasks.filter((e=>e.completed)).length===h.tasks.length,{id:g,eventPrefix:f,isHidden:T,isVisible:v,isToggleable:N,title:b,tasks:C}=h;return v?(0,o.createElement)(o.Fragment,{key:g},(0,o.createElement)(d.TaskList,{id:g,eventPrefix:f,isComplete:w,query:t,tasks:C,title:b}),N&&(0,o.createElement)(m.z,null,(0,o.createElement)(a.MenuGroup,{className:"woocommerce-layout__homescreen-display-options",label:(0,n.__)("Display","woocommerce")},(0,o.createElement)(a.MenuItem,{className:"woocommerce-layout__homescreen-extension-tasklist-toggle",icon:!T&&c.Z,isSelected:!T,role:"menuitemcheckbox",onClick:()=>(e=>{const{id:t,isHidden:o}=e,n=!o;(0,r.recordEvent)(n?`${t}_tasklist_hide`:`${t}_tasklist_show`,{}),s(t)})(h)},(0,n.__)("Show things to do next","woocommerce"))))):null}}}]);