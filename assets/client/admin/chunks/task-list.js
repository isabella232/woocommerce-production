"use strict";(self.webpackChunk_wcAdmin_webpackJsonp=self.webpackChunk_wcAdmin_webpackJsonp||[]).push([[6147,7108],{23798:function(e,t,s){s.d(t,{g:function(){return l}});var o=s(69307),a=s(65736),n=s(9818),c=s(67221),i=s(74617),r=s(38649);const l=e=>{let{taskListId:t}=e;const{loading:s,tasksCount:l,completedCount:m,hasVisitedTasks:d}=(0,n.useSelect)((e=>{const s=e(c.ONBOARDING_STORE_NAME).getTaskList(t),o=e(c.ONBOARDING_STORE_NAME).hasFinishedResolution("getTaskList",[t]),a=Date.now(),n=null==s?void 0:s.tasks.filter((e=>!e.isDismissed&&(!e.isSnoozed||e.snoozedUntil<a)));return{loading:!o,tasksCount:null==n?void 0:n.length,completedCount:null==n?void 0:n.filter((e=>e.isComplete)).length,hasVisitedTasks:(null==n?void 0:n.filter((e=>e.isVisited)).length)>0}})),u=(0,o.useMemo)((()=>{if(!d&&m<2||m===l){const e=(0,i.getSetting)("siteTitle");return e?(0,a.sprintf)((0,a.__)("Welcome to %s","woocommerce-admin"),e):(0,a.__)("Welcome","woocommerce-admin")}return m>0&&m<4?(0,a.__)("Let's get you started","woocommerce-admin")+"   ðŸš€":m>3&&m<6?(0,a.__)("You are on the right track","woocommerce-admin"):(0,a.__)("You are almost there","woocommerce-admin")}),[m,d]);return s||m===l?null:(0,o.createElement)("div",{className:"woocommerce-task-progress-header"},(0,o.createElement)(r.d,{id:t,hideTaskListText:(0,a.__)("Hide setup list","woocommerce-admin")}),(0,o.createElement)("div",{className:"woocommerce-task-progress-header__contents"},(0,o.createElement)("h1",{className:"woocommerce-task-progress-header__title"},u),(0,o.createElement)("p",null,(0,a.sprintf)((0,a.__)("Follow these steps to start selling quickly. %1$d out of %2$d complete.","woocommerce-admin"),m,l)),(0,o.createElement)("progress",{className:"woocommerce-task-progress-header__progress-bar",max:l,value:m||0})))}},38649:function(e,t,s){s.d(t,{d:function(){return l}});var o=s(69307),a=s(65736),n=s(55609),c=s(86020),i=s(67221),r=s(9818);const l=e=>{let{id:t,hideTaskListText:s}=e;const{hideTaskList:l}=(0,r.useDispatch)(i.ONBOARDING_STORE_NAME);return(0,o.createElement)("div",{className:"woocommerce-card__menu woocommerce-card__header-item"},(0,o.createElement)(c.EllipsisMenu,{label:(0,a.__)("Task List Options","woocommerce-admin"),renderContent:()=>(0,o.createElement)("div",{className:"woocommerce-task-card__section-controls"},(0,o.createElement)(n.Button,{onClick:()=>l(t)},s||(0,a.__)("Hide this","woocommerce-admin")))}))}},23720:function(e,t,s){s.r(t),s.d(t,{TaskList:function(){return w},default:function(){return h}});var o=s(5267),a=s(69307),n=s(65736),c=s(55609),i=s(9818),r=s(86020),l=s(67221),m=s(14599),d=s(14812),u=s(10431),_=s(79298);const k=e=>{var t;let{isExpandable:s=!1,isExpanded:c=!1,setExpandedTask:r,task:k}=e;const{createNotice:p}=(0,i.useDispatch)("core/notices"),{dismissTask:E,snoozeTask:w,undoDismissTask:h,undoSnoozeTask:f,visitedTask:g}=(0,i.useDispatch)(l.ONBOARDING_STORE_NAME),v=(0,l.useUserPreferences)(),{actionLabel:T,actionUrl:b,content:C,id:N,isComplete:S,isDismissable:x,isSnoozeable:L,time:O,title:D,level:I,additionalInfo:A}=k,R=(0,d.useSlot)(`woocommerce_onboarding_task_list_item_${N}`),z=Boolean(null==R||null===(t=R.fills)||void 0===t?void 0:t.length),y=(0,a.useCallback)((()=>{E(N),p("success",(0,n.__)("Task dismissed"),{actions:[{label:(0,n.__)("Undo","woocommerce-admin"),onClick:()=>h(N)}]})}),[N]),B=(0,a.useCallback)((()=>{w(N),p("success",(0,n.__)("Task postponed until tomorrow","woocommerce-admin"),{actions:[{label:(0,n.__)("Undo","woocommerce-admin"),onClick:()=>f(N)}]})}),[N]),M=(0,a.useCallback)((()=>{b?b.startsWith("http")?window.location.href=b:(0,u.getHistory)().push((0,u.getNewPath)({},b,{})):(window.document.documentElement.scrollTop=0,(0,u.updateQueryString)({task:N}))}),[N,S,b]),P={expandable:s,expanded:s&&c,completed:S,onSnooze:L&&B,onDismiss:x&&y},U=(0,a.useCallback)((e=>{const t=()=>((0,m.recordEvent)("tasklist_click",{task_name:N}),S||(()=>{const e=(()=>{const e=v.task_list_tracked_started_tasks;return e&&e[N]?e[N]:0})()+1,t=v.task_list_tracked_started_tasks||{};g(N),v.updateUserPreferences({task_list_tracked_started_tasks:{...t||{},[N]:e}})})(),e.onClick?e.onClick():M());return(0,a.createElement)(d.TaskItem,(0,o.Z)({key:N,title:D,content:C,additionalInfo:A,time:O,action:t,level:I,actionLabel:T},P,e,{onClick:!s||S?t:()=>r(N)}))}),[N,D,C,O,T,s,S]);return z?(0,a.createElement)(_.WooOnboardingTaskListItem.Slot,{id:N,fillProps:{defaultTaskItem:U,isComplete:S,...P}}):(0,a.createElement)(U,{onClick:k.onClick})};var p=s(38649),E=s(23798);const w=e=>{var t;let{id:s,eventPrefix:u,tasks:_,title:w,isCollapsible:h=!1,isExpandable:f=!1,displayProgressHeader:g=!1,query:v}=e;const{profileItems:T}=(0,i.useSelect)((e=>{const{getProfileItems:t}=e(l.ONBOARDING_STORE_NAME);return{profileItems:t()}})),b=(0,a.useRef)(v),C=Date.now(),N=_.filter((e=>!e.isDismissed&&(!e.isSnoozed||e.snoozedUntil<C))),S=_.filter((e=>!e.isComplete&&!e.isDismissed)),[x,L]=(0,a.useState)(null===(t=S[0])||void 0===t?void 0:t.id);if((0,a.useEffect)((()=>{(0,m.recordEvent)(u+"view",{number_tasks:N.length,store_connected:T.wccom_connected})}),[]),(0,a.useEffect)((()=>{const{task:e}=b.current,{task:t}=v;e!==t&&(window.document.documentElement.scrollTop=0,b.current=v)}),[v]),!N.length)return(0,a.createElement)("div",{className:"woocommerce-task-dashboard__container"});const O=(0,n.sprintf)((0,n._n)("Show %d more task.","Show %d more tasks.",N.length-2,"woocommerce-admin"),N.length-2),D=(0,n.__)("Show less","woocommerce-admin"),I=h?d.CollapsibleList:d.List,A=h?{collapseLabel:D,expandLabel:O,show:2,onCollapse:()=>(0,m.recordEvent)(u+"collapse",{}),onExpand:()=>(0,m.recordEvent)(u+"expand",{})}:{};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"woocommerce-task-dashboard__container woocommerce-task-list__"+s},g?(0,a.createElement)(E.g,{taskListId:s}):null,(0,a.createElement)(c.Card,{size:"large",className:"woocommerce-task-card woocommerce-homescreen-card"},(0,a.createElement)(c.CardHeader,{size:"medium"},(0,a.createElement)("div",{className:"wooocommerce-task-card__header"},(0,a.createElement)(d.Text,{size:"20",lineHeight:"28px",variant:"title.small"},w),(0,a.createElement)(r.Badge,{count:S.length})),(0,a.createElement)(p.d,{id:s})),(0,a.createElement)(I,(0,o.Z)({animation:"custom"},A),N.map((e=>(0,a.createElement)(k,{key:e.id,isExpanded:x===e.id,isExpandable:f,task:e,setExpandedTask:L})))))))};var h=w}}]);