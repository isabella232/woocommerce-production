"use strict";(self.webpackChunk_wcAdmin_webpackJsonp=self.webpackChunk_wcAdmin_webpackJsonp||[]).push([[9456],{15732:function(e,t,o){o.r(t),o.d(t,{default:function(){return S}});var r=o(69307),a=o(65736),i=o(7862),n=o.n(i),c=o(92694),s=o(9818),m=o(63193),l=o(79548);const{addCesSurveyForAnalytics:d}=(0,s.dispatch)(l.Ls),u=(0,c.applyFilters)("woocommerce_admin_variations_report_charts",[{key:"items_sold",label:(0,a.__)("Items sold","woocommerce-admin"),order:"desc",orderby:"items_sold",type:"number"},{key:"net_revenue",label:(0,a.__)("Net sales","woocommerce-admin"),order:"desc",orderby:"net_revenue",type:"currency"},{key:"orders_count",label:(0,a.__)("Orders","woocommerce-admin"),order:"desc",orderby:"orders_count",type:"number"}]),_=(0,c.applyFilters)("woocommerce_admin_variations_report_filters",[{label:(0,a.__)("Show","woocommerce-admin"),staticParams:["chartType","paged","per_page"],param:"filter-variations",showFilters:()=>!0,filters:[{label:(0,a.__)("All variations","woocommerce-admin"),chartMode:"item-comparison",value:"all"},{label:(0,a.__)("Single variation","woocommerce-admin"),value:"select_variation",subFilters:[{component:"Search",value:"single_variation",path:["select_variation"],settings:{type:"variations",param:"variations",getLabels:m.uC,labels:{placeholder:(0,a.__)("Type to search for a variation","woocommerce-admin"),button:(0,a.__)("Single variation","woocommerce-admin")}}}]},{label:(0,a.__)("Comparison","woocommerce-admin"),chartMode:"item-comparison",value:"compare-variations",settings:{type:"variations",param:"variations",getLabels:m.uC,labels:{helpText:(0,a.__)("Check at least two variations below to compare","woocommerce-admin"),placeholder:(0,a.__)("Search for variations to compare","woocommerce-admin"),title:(0,a.__)("Compare Variations","woocommerce-admin"),update:(0,a.__)("Compare","woocommerce-admin")},onClick:d}},{label:(0,a.__)("Advanced filters","woocommerce-admin"),value:"advanced"}]}]),p=(0,c.applyFilters)("woocommerce_admin_variations_report_advanced_filters",{title:(0,a._x)("Variations match {{select /}} filters","A sentence describing filters for Variations. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce-admin"),filters:{attribute:{allowMultiple:!0,labels:{add:(0,a.__)("Attribute","woocommerce-admin"),placeholder:(0,a.__)("Search attributes","woocommerce-admin"),remove:(0,a.__)("Remove attribute filter","woocommerce-admin"),rule:(0,a.__)("Select a product attribute filter match","woocommerce-admin"),title:(0,a.__)("{{title}}Attribute{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:(0,a.__)("Select attributes","woocommerce-admin")},rules:[{value:"is",label:(0,a._x)("Is","product attribute","woocommerce-admin")},{value:"is_not",label:(0,a._x)("Is Not","product attribute","woocommerce-admin")}],input:{component:"ProductAttribute"}},category:{labels:{add:(0,a.__)("Categories","woocommerce-admin"),placeholder:(0,a.__)("Search categories","woocommerce-admin"),remove:(0,a.__)("Remove categories filter","woocommerce-admin"),rule:(0,a.__)("Select a category filter match","woocommerce-admin"),title:(0,a.__)("{{title}}Category{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:(0,a.__)("Select categories","woocommerce-admin")},rules:[{value:"includes",label:(0,a._x)("Includes","categories","woocommerce-admin")},{value:"excludes",label:(0,a._x)("Excludes","categories","woocommerce-admin")}],input:{component:"Search",type:"categories",getLabels:m.YC}},product:{labels:{add:(0,a.__)("Products","woocommerce-admin"),placeholder:(0,a.__)("Search products","woocommerce-admin"),remove:(0,a.__)("Remove products filter","woocommerce-admin"),rule:(0,a.__)("Select a product filter match","woocommerce-admin"),title:(0,a.__)("{{title}}Product{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:(0,a.__)("Select products","woocommerce-admin")},rules:[{value:"includes",label:(0,a._x)("Includes","products","woocommerce-admin")},{value:"excludes",label:(0,a._x)("Excludes","products","woocommerce-admin")}],input:{component:"Search",type:"variableProducts",getLabels:m.oC}}}});var v=o(21314),b=o(23961),w=o(46439),y=o(13098),h=o(86046),f=o(25619);const g=e=>{const{itemsLabel:t,mode:o}=(e=>{let{query:t}=e;const o="compare-variations"===t["filter-variations"]&&t.variations&&t.variations.split(",").length>1;return{compareObject:"variations",itemsLabel:(0,a.__)("%d variations","woocommerce-admin"),mode:o?"item-comparison":"time-comparison"}})(e),{path:i,query:n,isError:c,isRequesting:s}=e;if(c)return(0,r.createElement)(w.Z,null);const m={...n};return"item-comparison"===o&&(m.segmentby="variation"),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(f.Z,{query:n,path:i,filters:_,advancedFilters:p,report:"variations"}),(0,r.createElement)(y.Z,{mode:o,charts:u,endpoint:"variations",isRequesting:s,query:m,selectedChart:(0,v.Z)(n.chart,u),filters:_,advancedFilters:p}),(0,r.createElement)(b.Z,{charts:u,mode:o,filters:_,advancedFilters:p,endpoint:"variations",isRequesting:s,itemsLabel:t,path:i,query:m,selectedChart:(0,v.Z)(m.chart,u)}),(0,r.createElement)(h.Z,{isRequesting:s,query:n,filters:_,advancedFilters:p}))};g.propTypes={path:n().string.isRequired,query:n().object.isRequired};var S=g},86046:function(e,t,o){var r=o(69307),a=o(65736),i=o(92694),n=o(92819),c=o(86020),s=o(10431),m=o(81595),l=o(74617),d=o(13732),u=o(42934),_=o(83199),p=o(63193),v=o(4411);const b=(0,v.O3)("manageStock","no"),w=(0,v.O3)("stockStatuses",{});class y extends r.Component{constructor(){super(),this.getHeadersContent=this.getHeadersContent.bind(this),this.getRowsContent=this.getRowsContent.bind(this),this.getSummary=this.getSummary.bind(this)}getHeadersContent(){return[{label:(0,a.__)("Product / Variation title","woocommerce-admin"),key:"name",required:!0,isLeftAligned:!0},{label:(0,a.__)("SKU","woocommerce-admin"),key:"sku",hiddenByDefault:!0,isSortable:!0},{label:(0,a.__)("Items sold","woocommerce-admin"),key:"items_sold",required:!0,defaultSort:!0,isSortable:!0,isNumeric:!0},{label:(0,a.__)("Net sales","woocommerce-admin"),screenReaderLabel:(0,a.__)("Net sales","woocommerce-admin"),key:"net_revenue",required:!0,isSortable:!0,isNumeric:!0},{label:(0,a.__)("Orders","woocommerce-admin"),key:"orders_count",isSortable:!0,isNumeric:!0},"yes"===b?{label:(0,a.__)("Status","woocommerce-admin"),key:"stock_status"}:null,"yes"===b?{label:(0,a.__)("Stock","woocommerce-admin"),key:"stock",isNumeric:!0}:null].filter(Boolean)}getRowsContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{query:t}=this.props,o=(0,s.getPersistedQuery)(t),{formatAmount:i,formatDecimal:d,getCurrencyConfig:_}=this.context;return(0,n.map)(e,(e=>{const{items_sold:t,net_revenue:n,orders_count:v,product_id:y,variation_id:h}=e,f=e.extended_info||{},{stock_status:g,stock_quantity:S,low_stock_amount:k,deleted:C,sku:q}=f,x=(F=e,(0,p.V1)(F.extended_info||{}));var F;const R=(0,s.getNewPath)(o,"/analytics/orders",{filter:"advanced",variation_includes:h}),L=(0,l.getAdminLink)(`post.php?post=${y}&action=edit`);return[{display:C?x+" "+(0,a.__)("(Deleted)"," woocommerce-admin"):(0,r.createElement)(c.Link,{href:L,type:"wp-admin"},x),value:x},{display:q,value:q},{display:(0,m.formatValue)(_(),"number",t),value:t},{display:i(n),value:d(n)},{display:(0,r.createElement)(c.Link,{href:R,type:"wc-admin"},v),value:v},"yes"===b?{display:(0,u.d)(g,S,k)?(0,r.createElement)(c.Link,{href:L,type:"wp-admin"},(0,a._x)("Low","Indication of a low quantity","woocommerce-admin")):w[g],value:w[g]}:null,"yes"===b?{display:S,value:S}:null].filter(Boolean)}))}getSummary(e){const{query:t}=this.props,{variations_count:o=0,items_sold:r=0,net_revenue:n=0,orders_count:c=0}=e,{formatAmount:s,getCurrencyConfig:l}=this.context,d=l();return[{label:(0,i.applyFilters)("experimental_woocommerce_admin_variations_report_table_summary_variations_count_label",(0,a._n)("variation sold","variations sold",o,"woocommerce-admin"),o,t),value:(0,m.formatValue)(d,"number",o)},{label:(0,a._n)("item sold","items sold",r,"woocommerce-admin"),value:(0,m.formatValue)(d,"number",r)},{label:(0,a.__)("net sales","woocommerce-admin"),value:s(n)},{label:(0,a._n)("orders","orders",c,"woocommerce-admin"),value:(0,m.formatValue)(d,"number",c)}]}render(){const{advancedFilters:e,baseSearchQuery:t,filters:o,isRequesting:n,query:c}=this.props,s={helpText:(0,a.__)("Check at least two variations below to compare","woocommerce-admin"),placeholder:(0,a.__)("Search by variation name or SKU","woocommerce-admin")};return(0,r.createElement)(d.Z,{baseSearchQuery:t,compareBy:"variations",compareParam:"filter-variations",endpoint:"variations",getHeadersContent:this.getHeadersContent,getRowsContent:this.getRowsContent,isRequesting:n,itemIdField:"variation_id",labels:s,query:c,getSummary:this.getSummary,summaryFields:["variations_count","items_sold","net_revenue","orders_count"],tableQuery:{orderby:c.orderby||"items_sold",order:c.order||"desc",extended_info:!0,product_includes:c.product_includes,variations:c.variations},title:(0,i.applyFilters)("experimental_woocommerce_admin_variations_report_table_title",(0,a.__)("Variations","woocommerce-admin"),c),columnPrefsKey:"variations_report_columns",filters:o,advancedFilters:e})}}y.contextType=_.$,t.Z=y}}]);